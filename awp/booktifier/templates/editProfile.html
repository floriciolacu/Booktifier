{% extends 'layout.html' %} 
{% block title %}Edit Profile{% endblock %} 
{% block content %}
{% load widget_tweaks %}
<link rel="stylesheet" href="/static/css/signup.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.12/css/all.css" integrity="sha384-G0fIWCsCzJIMAVNQPfjH08cyYaUtMwjJwqiRKxxE/rx96Uroj1BtIQ6MLJuheaO9" crossorigin="anonymous">
<link rel="stylesheet" href="/static/css/login.css">
 <div class="vertical-center"  style = "margin-top: 3%;">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="centered">
            <h1>Edit Profile</h1>
            <br>
        </div>

<form method="post" enctype="multipart/form-data">
  {% csrf_token %}

  {% for hidden_field in user_form.hidden_fields %}
  {{ hidden_field }}
  {% endfor %}
  {% if user_form.non_field_errors %}
  <div class="alert alert-danger" role="alert">
      {% for error in user_form.non_field_errors %}
      {{ error }}
      {% endfor %}
  </div>
  {% endif %}

  {% for hidden_field in buser_form.hidden_fields %}
  {{ hidden_field }}
  {% endfor %}
  {% if buser_form.non_field_errors %}
  <div class="alert alert-danger" role="alert">
      {% for error in profile_form.non_field_errors %}
      {{ error }}
      {% endfor %}
  </div>
  {% endif %}

  {% for field in user_form.visible_fields %}
  <div class="form-group">
      <div class="row" style="margin:20px;">
          <div class="col-md-3">
              {{ field.label_tag }}
          </div>
          <div class="col-md-9">
              {% if fiels.label_tag == "Preferences:" %}
                  {% render_field field class="custom-control custom-checkbox" %}
              {% else %}
                  {% if user_form.is_bound %}
                  {% if field.errors %}
                  {% render_field field class="form-control is-invalid" %}
          </div>
          {% for error in field.errors %}
          <div class="invalid-feedback">
              {{ error }}
          </div>
          {% endfor %}
                    {% else %}
                    {% render_field field class="form-control is-valid" %}
                    {% endif %}
                    {% else %}
                    {% render_field field class="form-control" %}
                    {% endif %}
                   {% endif %} 
                   {% if field.help_text %}
                   <small class="form-text text-white">{{ field.help_text|safe }}</small>
                  {% endif %} 

                  {% for error in field.errors %}
               
                   <div style="width: 100%; text-align: center; color: red; text-shadow: 2px 2px 4px #000000;">
                     <p style="color: red">{{ error }}</p>
                   </div>
                  {% endfor %}
                
                </div>
               </div>
               {% endfor %}

                {% for field in buser_form.visible_fields %}
  <div class="form-group">
      <div class="row" style="margin:20px;">
          <div class="col-md-3">
              {{ field.label_tag }}
          </div>
          <div class="col-md-9">
              {% if fiels.label_tag == "Preferences:" %}
                  {% render_field field class="custom-control custom-checkbox" %}
              {% else %}
                  {% if buser_form.is_bound %}
                  {% if field.errors %}
                  {% render_field field class="form-control is-invalid" %}
          </div>
          {% for error in field.errors %}
          <div class="invalid-feedback">
              {{ error }}
          </div>
          {% endfor %}
                    {% else %}
                    {% render_field field class="form-control is-valid" %}
                    {% endif %}
                    {% else %}
                    {% render_field field class="form-control" %}
                    {% endif %}
                   {% endif %} 
                   {% if field.help_text %}
                  <small class="form-text text-white">{{ field.help_text|safe }}</small>
                  {% endif %} 

                  {% for error in field.errors %}
               
                   <div style="width: 100%; text-align: center; color: red; text-shadow: 2px 2px 4px #000000;">
                     <p style="color: red">{{ error }}</p>
                   </div>
                  {% endfor %}
                
                </div>
               </div>
               {% endfor %}
               <div style="width: 100%; text-align: center;">
                  <button type="submit" class="btn btn-primary btn-xl js-scroll-trigger" style="min-width: 60%; margin: 10px; background-color: #7C6443;">Edit</button>
               </div>

</form>

    </div>
  </div>
</div>

{% endblock %}